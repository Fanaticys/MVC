webpackJsonp([0],[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n=document.createElement(e);t&&Object.keys(t).forEach(function(e){n[e]=t[e]});for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];return i&&i.forEach(function(e){"string"==typeof e&&(e=document.createTextNode(e)),n.appendChild(e)}),n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(){r(this,e),this.events={}}return a(e,[{key:"on",value:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}},{key:"emit",value:function(e,t){this.events[e]&&this.events[e].length&&this.events[e].forEach(function(e){return e(t)})}}]),e}(),o=function(){function e(t,n,a){var s=this;r(this,e),this.user=t,this.context=a,this.imgAvatar=i("img",{src:t.avatar}),this.faSearch=i("i",{className:"fa fa-search",ariaHidden:!0}),this.faTimes=i("i",{className:"fa fa-times off",ariaHidden:!0}),this.searchButton=i("button",{id:"search-button"},this.faSearch,this.faTimes),this.userName=i("h3",{innerText:t.name}),this.avatarWrapper=i("div",{className:"avatar-wrapper"},this.imgAvatar),this.userNameWrapper=i("div",{className:"user-name"},this.userName),this.input=i("input",{type:"text"}),this.proposalList=i("ul",{className:"proposal-list"}),this.searchInput=i("div",{className:"search-input"},this.input,this.proposalList),this.formWrapper=i("div",{className:"form-wrapper"},this.searchButton,this.searchInput),this.header=i("header",{},this.avatarWrapper,this.userNameWrapper,this.formWrapper),this.pFriends=i("p",{innerText:"Subscriptions:"}),this.userFriends=i("ul",{className:"user-friends"}),this.main=i("main",{},this.pFriends,this.userFriends),this.container=i("div",{className:"container"},this.header,this.main),this.searchButton.addEventListener("click",function(e){s.toggleSearch()}),this.input.addEventListener("keyup",function(e){var t=e.target.value.toUpperCase();s.proposalList.querySelectorAll("li").forEach(function(e){e.innerHTML.toUpperCase().indexOf(t)>-1?e.style.display="":e.style.display="none"}),t?s.proposalList.classList.add("show"):s.proposalList.classList.remove("show")}),n.forEach(function(e){e.name!=t.name&&s.addPossibleFriend({user:e})})}return a(e,[{key:"addPossibleFriend",value:function(e){var t=this,n=e.user,r=i("li",{className:"list-item",innerText:n.name});r.setAttribute("data-avatar",n.avatar),r.addEventListener("click",function(e){var n=e.target.textContent,i=e.target.getAttribute("data-avatar"),a={name:n,avatar:i};t.addFriend(a),t.context.emit("add-friend",{user:t.user,friend:a}),t.toggleSearch(),t.proposalList.removeChild(r)}),this.proposalList.appendChild(r)}},{key:"addFriend",value:function(e){var t=this,n=e.name,r=e.avatar,a=i("i",{className:"fa fa-trash-o"}),s=i("button",{className:"remove-friend"},a),o=i("span",{className:"user-friend-name",innerHTML:n}),u=i("li",{className:"user-friend"},o,s);this.userFriends.appendChild(u),s.addEventListener("click",function(e){var i=e.target.parentNode;"I"==e.target.nodeName&&(i=i.parentNode),t.deleteFriend(i,{user:{name:n,avatar:r}})})}},{key:"deleteFriend",value:function(e,t){this.userFriends.removeChild(e),this.addPossibleFriend(t),this.context.emit("delete-friend",{user:this.user,friend:t})}},{key:"toggleSearch",value:function(){this.input.focus(),this.faSearch.classList.toggle("off"),this.faTimes.classList.toggle("off"),this.searchInput.classList.toggle("on"),this.proposalList.classList.toggle("on")}}]),e}();t.createElement=i,t.EventEmitter=s,t.User=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(2),n(3);var i=n(4),a=r(i),s=n(5),o=r(s),u=n(6),c=r(u),l=n(7),f=r(l),d=n(8),h=r(d),p=new a.default,m=new o.default,v=(new c.default(p,m),new f.default);new h.default(p,v)},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.users=[],e}return a(t,e),s(t,[{key:"addUser",value:function(e){return e.name?this.users.some(function(t){return t.name==e.name})?alert('User name: "'+e.name+'" already exist'):(e.friends=[],this.users.push(e),void this.emit("new-user",{user:e,users:this.users})):alert("Please enter username")}},{key:"addFriend",value:function(e){var t=e.user,n=e.friend;this.users.find(function(e){return e.name==t.name}).friends.push(n)}},{key:"deleteFriend",value:function(e){var t=e.user,n=e.friend,r=t.friends.findIndex(function(e){return e.name==n.user.name});-1!==r&&t.friends.splice(r,1)}}]),t}(o.EventEmitter);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.form=document.getElementById("form"),e.newUserName=document.getElementById("new-user-name"),e.newUserAvatarUrl=document.getElementById("new-user-avatar-url"),e.form.addEventListener("submit",e.handleAdd.bind(e)),e}return a(t,e),s(t,[{key:"handleAdd",value:function(e){e.preventDefault();var t=this.newUserName.value,n=this.newUserAvatarUrl.value||"https://cdn3.iconfinder.com/data/icons/rcons-user-action/32/boy-512.png",r={name:t,avatar:n};this.emit("new-user",r)}}]),t}(o.EventEmitter);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.model=t,this.view=n,n.on("new-user",this.model.addUser.bind(this.model))};t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),u=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.body=document.querySelector("body"),e}return a(t,e),s(t,[{key:"createUser",value:function(e){var t=e.user,n=e.users,r=new o.User(t,n,this);this.body.appendChild(r.container),this.emit("created-user",r.addPossibleFriend.bind(r))}}]),t}(o.EventEmitter);t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this.model=t,this.view=n,t.on("new-user",this.view.createUser.bind(n)),n.on("add-friend",this.model.addFriend.bind(t)),n.on("created-user",this.handleCreatedUser.bind(this)),n.on("delete-friend",this.model.deleteFriend.bind(t))}return i(e,[{key:"handleCreatedUser",value:function(e){this.model.on("new-user",e)}}]),e}();t.default=a}],[1]);